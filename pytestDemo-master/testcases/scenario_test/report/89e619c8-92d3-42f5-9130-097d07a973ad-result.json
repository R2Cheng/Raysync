{"name": "查看邀请上传链接列表-列表不为空--删除1个有效链接和1个过期链接--预期成功", "status": "failed", "statusDetails": {"message": "AssertionError: assert 0 == 4", "trace": "self = <testcases.scenario_test.test_04_raysync_sharelink.TestshareLink object at 0x00000234D545A9E8>\ntestcase_data = {'cancelCount': 0, 'etime': datetime.datetime(2020, 10, 30, 0, 0), 'except_msg': 'OK', 'except_result': 0, ...}\n\n    @allure.story(\"用例--查看邀请上传链接列表--预期成功\")\n    @allure.description(\"该用例是针对业务场景的测试\")\n    @allure.title(\"查看邀请上传链接列表-列表不为空--删除1个有效链接和1个过期链接--预期成功\")\n    @pytest.mark.multiple\n    # @pytest.mark.usefixtures(\"\")#执行用例前可以进行前置操作(数据库操作,尽量不使用)\n    def test_raysync_sharelink_04(self, testcase_data):\n        stime = testcase_data[\"stime\"]\n        etime = testcase_data[\"etime\"]\n        useCount = testcase_data[\"useCount\"]\n        overCount = testcase_data[\"overCount\"]\n        totalCount = testcase_data[\"totalCount\"]\n        cancelCount = testcase_data[\"cancelCount\"]\n        except_result = testcase_data[\"except_result\"]\n        except_msg = testcase_data[\"except_msg\"]\n        logger.info(\"*************** 获取token ***************\")\n        token = step_1()\n        logger.info(\"*************** 执行清空邀请上传链接操作 ***************\")\n        step_2(token, stime, etime)\n        logger.info(\"*************** 执行邀请上传链接数据初始化操作 ***************\")\n        step_3()\n        logger.info(\"*************** 开始执行用例 ***************\")\n        result_old_url = getAllShareLink(token,stime,etime)\n        useLink = []\n        overLink = []\n        useCountNum = 0\n        overCountNum = 0\n        cancelCountNum = 0\n        for sharelinkinfo in result_old_url.json().get(\"sharelinkinfo\"):\n            if sharelinkinfo[\"shareLinkStatus\"]==1:\n                if len(useLink) == 0: #测试用例只需要删除一个\n                    useLink.append(sharelinkinfo[\"shareLink\"])\n            elif sharelinkinfo[\"shareLinkStatus\"] == 2:\n                if len(overLink) == 0:  # 测试用例只需要删除一个\n                    overLink.append(sharelinkinfo[\"shareLink\"])\n            else:\n                pass\n        delShareLink(token,useLink)\n        delShareLink(token,overLink)\n        result_new_url = getAllShareLink(token, stime, etime)\n        for sharelinkinfo in result_new_url.json().get(\"sharelinkinfo\"):\n            if sharelinkinfo[\"shareLinkStatus\"]==1:\n                useCountNum +=1\n            elif sharelinkinfo[\"shareLinkStatus\"] == 2:\n                overCountNum +=1\n            else:\n                cancelCountNum +=1\n        assert result_new_url.json().get(\"result\") == except_result\n        assert except_msg in result_new_url.json().get(\"message\")\n>       assert result_new_url.json().get(\"totalCount\") == totalCount\nE       assert 0 == 4\n\ntest_04_raysync_sharelink.py:244: AssertionError"}, "description": "该用例是针对业务场景的测试", "steps": [{"name": "获取token", "status": "passed", "start": 1604369466594, "stop": 1604369466631}, {"name": "执行清空邀请上传链接操作", "status": "passed", "parameters": [{"name": "token", "value": "'qoMOkJbjxxFdyoQkGCnREllDj6d1yYLrdHAxpr8H'"}, {"name": "stime", "value": "datetime.datetime(2020, 9, 20, 0, 0)"}, {"name": "etime", "value": "datetime.datetime(2020, 10, 30, 0, 0)"}], "start": 1604369466632, "stop": 1604369466665}, {"name": "执行链接数据初始化操作", "status": "passed", "start": 1604369466665, "stop": 1604369466951}], "attachments": [{"name": "log", "source": "975f4607-41bb-4af1-b619-9b4cb056d455-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "21a4e1dd-8c2d-40c5-b2c5-820e7a25cdee-attachment.txt", "type": "text/plain"}], "start": 1604369466594, "stop": 1604369467069, "uuid": "4f9d1d02-eb0a-4886-bdf3-d8009525c0ad", "historyId": "7a3882390e8ff1ab61919a19115898d5", "testCaseId": "340002d8683ded8c9aa9c829ed88ad86", "fullName": "testcases.scenario_test.test_04_raysync_sharelink.TestshareLink#test_raysync_sharelink_04", "labels": [{"name": "severity", "value": "critical"}, {"name": "epic", "value": "针对业务场景的测试"}, {"name": "feature", "value": "场景：邀请上传"}, {"name": "story", "value": "用例--查看邀请上传链接列表--预期成功"}, {"name": "tag", "value": "multiple"}, {"name": "parentSuite", "value": "testcases.scenario_test"}, {"name": "suite", "value": "test_04_raysync_sharelink"}, {"name": "subSuite", "value": "TestshareLink"}, {"name": "host", "value": "linsijie"}, {"name": "thread", "value": "157820-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.scenario_test.test_04_raysync_sharelink"}]}
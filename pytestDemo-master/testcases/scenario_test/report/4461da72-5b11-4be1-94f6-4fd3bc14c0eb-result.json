{"name": "查看邀请上传链接列表-列表不为空，共6条链接（5条使用中（永久，1天，3天，7天，30天），默认参数（无需邮件通知），1条过期）,有效链接验证通过--预期成功", "status": "failed", "statusDetails": {"message": "AssertionError: assert 0 == 6", "trace": "self = <testcases.scenario_test.test_04_raysync_sharelink.TestshareLink object at 0x00000234D570D828>\ntestcase_data = {'cancelCount': 0, 'etime': datetime.datetime(2020, 10, 30, 0, 0), 'except_msg': 'OK', 'except_result': 0, ...}\n\n    @allure.story(\"用例--查看邀请上传链接列表--预期成功\")\n    @allure.description(\"该用例是针对业务场景的测试\")\n    @allure.title(\"查看邀请上传链接列表-列表不为空，共6条链接（5条使用中（永久，1天，3天，7天，30天），默认参数（无需邮件通知），1条过期）,有效链接验证通过--预期成功\")\n    @pytest.mark.multiple\n    # @pytest.mark.usefixtures(\"\")#执行用例前可以进行前置操作(数据库操作,尽量不使用)\n    def test_raysync_sharelink_02(self, testcase_data):\n        stime = testcase_data[\"stime\"]\n        etime = testcase_data[\"etime\"]\n        useCount = testcase_data[\"useCount\"]\n        overCount = testcase_data[\"overCount\"]\n        totalCount = testcase_data[\"totalCount\"]\n        cancelCount = testcase_data[\"cancelCount\"]\n        except_result = testcase_data[\"except_result\"]\n        except_msg = testcase_data[\"except_msg\"]\n        logger.info(\"*************** 获取token ***************\")\n        token = step_1()\n        logger.info(\"*************** 执行清空邀请上传链接操作 ***************\")\n        step_2(token,stime,etime)\n        logger.info(\"*************** 执行邀请上传链接数据初始化操作 ***************\")\n        step_3()\n        logger.info(\"*************** 开始执行用例 ***************\")\n        result = getAllShareLink(token,stime,etime)\n        useCountNum = 0\n        overCountNum = 0\n        cancelCountNum = 0\n        for sharelinkinfo in result.json().get(\"sharelinkinfo\"):\n            if sharelinkinfo[\"shareLinkStatus\"] == 1:  #链接有效\n                useCountNum += 1\n                url = sharelinkinfo[\"shareLink\"]\n                passwd = sharelinkinfo[\"sharePassword\"]\n                result_url = checkUrl(url)\n                result_passwd = checkPasswd(url, passwd)\n                assert 0 == result_url.json().get(\"result\")\n                assert 0 == result_passwd.json().get(\"result\")\n                logger.info(\"result_url ==>> 期望结果：{}， 实际结果：【 {} 】\".format(0, result_url.json().get(\"result\")))\n                logger.info(\"result_passwd ==>> 期望结果：{}， 实际结果：【 {} 】\".format(0, result_passwd.json().get(\"result\")))\n            elif sharelinkinfo[\"shareLinkStatus\"] == 2: #链接过期\n                overCountNum += 1\n                url = sharelinkinfo[\"shareLink\"]\n                result_url = checkUrl(url)\n                assert 1041 == result_url.json().get(\"result\")\n                logger.info(\"result_url ==>> 期望结果：{}， 实际结果：【 {} 】\".format(1041, result_url.json().get(\"result\")))\n            else:   #链接取消\n                cancelCountNum += 1\n    \n        assert result.json().get(\"result\") == except_result\n        assert except_msg in result.json().get(\"message\")\n>       assert result.json().get(\"totalCount\") == totalCount\nE       assert 0 == 6\n\ntest_04_raysync_sharelink.py:123: AssertionError"}, "description": "该用例是针对业务场景的测试", "steps": [{"name": "获取token", "status": "passed", "start": 1604369465728, "stop": 1604369465765}, {"name": "执行清空邀请上传链接操作", "status": "passed", "parameters": [{"name": "token", "value": "'Wg3ZOeYq3RIJmj6yaf5wR00dAm71nayGp0jWna9F'"}, {"name": "stime", "value": "datetime.datetime(2020, 9, 20, 0, 0)"}, {"name": "etime", "value": "datetime.datetime(2020, 10, 30, 0, 0)"}], "start": 1604369465765, "stop": 1604369465794}, {"name": "执行链接数据初始化操作", "status": "passed", "start": 1604369465794, "stop": 1604369466070}], "attachments": [{"name": "log", "source": "a9245e05-2967-427e-9c82-0e2338af1d95-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "3bf71dbb-aadd-4fd6-ab26-79edcbbae27b-attachment.txt", "type": "text/plain"}], "start": 1604369465727, "stop": 1604369466102, "uuid": "46da2429-1ea7-4dde-a7fd-05d1646222a4", "historyId": "13d628f6995ffdc973e7ca8ee9afb8b7", "testCaseId": "3d3a1c7941bf5b5e2c06bb08191223d5", "fullName": "testcases.scenario_test.test_04_raysync_sharelink.TestshareLink#test_raysync_sharelink_02", "labels": [{"name": "severity", "value": "critical"}, {"name": "epic", "value": "针对业务场景的测试"}, {"name": "feature", "value": "场景：邀请上传"}, {"name": "story", "value": "用例--查看邀请上传链接列表--预期成功"}, {"name": "tag", "value": "multiple"}, {"name": "parentSuite", "value": "testcases.scenario_test"}, {"name": "suite", "value": "test_04_raysync_sharelink"}, {"name": "subSuite", "value": "TestshareLink"}, {"name": "host", "value": "linsijie"}, {"name": "thread", "value": "157820-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.scenario_test.test_04_raysync_sharelink"}]}
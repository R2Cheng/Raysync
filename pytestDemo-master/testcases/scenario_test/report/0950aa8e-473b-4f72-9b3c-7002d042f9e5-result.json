{"name": "搜索用户姓名-中文搜索--预期成功", "status": "failed", "statusDetails": {"message": "AssertionError: assert {'account': 'leisu4',\\n 'accountType': 2,\\n 'address': '',\\n 'company': '',\\n 'created': 1604309041,\\n 'downloadSpeed': 0,\\n 'email': 'leisu_test_4@email.com',\\n 'emailAccount': '',\\n 'emailEncryptType': '1',\\n 'emailFromName': '',\\n 'emailPassword': '',\\n 'emailSenderType': 0,\\n 'emailSmtpHost': 'smtp.gmail.com',\\n 'emailSmtpPort': '465',\\n 'file_count': 0,\\n 'folder_count': 0,\\n 'groupList': [],\\n 'home': '',\\n 'id': 5676,\\n 'isRelated': 0,\\n 'loginFailTimes': 0,\\n 'name': '镭速',\\n 'needUpdatePwd': False,\\n 'online_info': {},\\n 'password': 'jda7bVjlMl606GAvfYakmqz26iv7PTMp04676d6bc9439a1bad68cc529df61ce4bdc9de5903eae9c820568979bb3e6daf',\\n 'permission': 4095,\\n 'phone': '',\\n 'randPwd': '',\\n 'remark': '',\\n 'status': 0,\\n 'suffixList': '',\\n 'syncSwitch': False,\\n 'uploadSpeed': 0,\\n 'uploadSuffixLimit': 0,\\n 'userHomeFlag': False,\\n 'userHomeSize': 0,\\n 'userHomeTotal': 0,\\n 'userLockedFinishTime': 0,\\n 'userLockedFlag': False,\\n 'userLockedStartTime': 0,\\n 'whitelistIP': '',\\n 'whitelistIPSwitch': False} == '镭速测试'", "trace": "self = <testcases.scenario_test.test_07_raysync_select_user.TestSelectUser object at 0x00000240B1C60978>\ntestcase_data = {'except_msg': 'OK', 'except_result': 0, 'query1': {'name': '镭速', 'totalCount': 4}, 'query2': {'name': '镭速测试', 'totalCount': 1}, ...}\n\n    @allure.story(\"用例--新用户创建--预期成功\")\n    @allure.description(\"该用例是针对业务场景的测试\")\n    @allure.title(\"搜索用户姓名-中文搜索--预期成功\")\n    @pytest.mark.multiple\n    @pytest.mark.usefixtures(\"create_user\")  # 执行用例前可以进行前置操作(数据库操作,尽量不使用)\n    def test_raysync_select_user_01(self, testcase_data):\n        query1 = testcase_data[\"query1\"]\n        query2 = testcase_data[\"query2\"]\n        query3 = testcase_data[\"query3\"]\n        except_result = testcase_data[\"except_result\"]\n        except_msg = testcase_data[\"except_msg\"]\n        logger.info(\"*************** 获取token ***************\")\n        token = step_1()\n        logger.info(\"*************** 开始执行用例 ***************\")\n        logger.info(\"*************** 搜索中文名相同多个用户结果检验 ***************\")\n        userResult_1 = selectUsers(token,{\"name\":query1[\"name\"]})\n        assert userResult_1.json().get(\"result\") == except_result\n        assert except_msg in userResult_1.json().get(\"message\")\n        logger.info(\"搜索用户结果result ==>> 期望结果：{}， 实际结果：【 {} 】\".format(except_result, userResult_1.json().get(\"result\")))\n        logger.info(\"搜索用户结果message ==>> 期望结果：{}， 实际结果：【 {} 】\".format(except_msg, userResult_1.json().get(\"message\")))\n        userNum1 = userResult_1.json().get(\"totalCount\")\n        userNameList = []\n        for i in userResult_1.json().get(\"users\"):\n            userNameList.append(i[\"name\"])\n        for i in userNameList:\n            assert query1[\"name\"] in i\n        assert userNum1 == query1[\"totalCount\"]\n        logger.info(\"搜索中文名相同多个用户结果totalCount ==>> 期望结果：{}， 实际结果：【 {} 】\".format(query1[\"totalCount\"], userNum1))\n    \n        logger.info(\"*************** 搜索中文名一个用户结果检验 ***************\")\n        userResult_2 = selectUsers(token, {\"name\": query2[\"name\"]})\n        assert userResult_2.json().get(\"result\") == except_result\n        assert except_msg in userResult_2.json().get(\"message\")\n        logger.info(\"搜索用户结果result ==>> 期望结果：{}， 实际结果：【 {} 】\".format(except_result, userResult_2.json().get(\"result\")))\n        logger.info(\"搜索用户结果message ==>> 期望结果：{}， 实际结果：【 {} 】\".format(except_msg, userResult_2.json().get(\"message\")))\n        userNum2 = userResult_2.json().get(\"totalCount\")\n        username = userResult_1.json().get(\"users\")[0]\n        assert userNum2 == query2[\"totalCount\"]\n>       assert username == query2[\"name\"]\nE       AssertionError: assert {'account': 'leisu4',\\n 'accountType': 2,\\n 'address': '',\\n 'company': '',\\n 'created': 1604309041,\\n 'downloadSpeed': 0,\\n 'email': 'leisu_test_4@email.com',\\n 'emailAccount': '',\\n 'emailEncryptType': '1',\\n 'emailFromName': '',\\n 'emailPassword': '',\\n 'emailSenderType': 0,\\n 'emailSmtpHost': 'smtp.gmail.com',\\n 'emailSmtpPort': '465',\\n 'file_count': 0,\\n 'folder_count': 0,\\n 'groupList': [],\\n 'home': '',\\n 'id': 5676,\\n 'isRelated': 0,\\n 'loginFailTimes': 0,\\n 'name': '镭速',\\n 'needUpdatePwd': False,\\n 'online_info': {},\\n 'password': 'jda7bVjlMl606GAvfYakmqz26iv7PTMp04676d6bc9439a1bad68cc529df61ce4bdc9de5903eae9c820568979bb3e6daf',\\n 'permission': 4095,\\n 'phone': '',\\n 'randPwd': '',\\n 'remark': '',\\n 'status': 0,\\n 'suffixList': '',\\n 'syncSwitch': False,\\n 'uploadSpeed': 0,\\n 'uploadSuffixLimit': 0,\\n 'userHomeFlag': False,\\n 'userHomeSize': 0,\\n 'userHomeTotal': 0,\\n 'userLockedFinishTime': 0,\\n 'userLockedFlag': False,\\n 'userLockedStartTime': 0,\\n 'whitelistIP': '',\\n 'whitelistIPSwitch': False} == '镭速测试'\n\ntest_07_raysync_select_user.py:61: AssertionError"}, "description": "该用例是针对业务场景的测试", "steps": [{"name": "获取token", "status": "passed", "start": 1604311338622, "stop": 1604311338659}], "attachments": [{"name": "log", "source": "d90c9dc5-beb3-470e-a583-ab89d77e4730-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "9cf7a559-36ed-4e52-a7f9-876c8e1fbdd1-attachment.txt", "type": "text/plain"}], "start": 1604311338621, "stop": 1604311338726, "uuid": "44137bd1-afbf-4614-ab28-d495f67ab03b", "historyId": "afc1f524ea057d7a102cf332145877bb", "testCaseId": "433d61c0f8c4ebb1f500bee0b6f29429", "fullName": "testcases.scenario_test.test_07_raysync_select_user.TestSelectUser#test_raysync_select_user_01", "labels": [{"name": "feature", "value": "场景：搜索用户"}, {"name": "severity", "value": "critical"}, {"name": "epic", "value": "针对业务场景的测试"}, {"name": "story", "value": "用例--新用户创建--预期成功"}, {"name": "tag", "value": "multiple"}, {"name": "parentSuite", "value": "testcases.scenario_test"}, {"name": "suite", "value": "test_07_raysync_select_user"}, {"name": "subSuite", "value": "TestSelectUser"}, {"name": "host", "value": "linsijie"}, {"name": "thread", "value": "138792-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.scenario_test.test_07_raysync_select_user"}]}
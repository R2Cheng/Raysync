{"name": "查看邀请上传链接列表-列表不为空--使用中和过期链接取消邀请上传成功，并验证url不通过--预期成功", "status": "failed", "statusDetails": {"message": "AssertionError: assert 0 == 6", "trace": "self = <testcases.scenario_test.test_04_raysync_sharelink.TestshareLink object at 0x00000234D570D198>\ntestcase_data = {'cancelCount': 6, 'etime': datetime.datetime(2020, 10, 30, 0, 0), 'except_msg': 'OK', 'except_result': 0, ...}\n\n    @allure.story(\"用例--查看邀请上传链接列表--预期成功\")\n    @allure.description(\"该用例是针对业务场景的测试\")\n    @allure.title(\"查看邀请上传链接列表-列表不为空--使用中和过期链接取消邀请上传成功，并验证url不通过--预期成功\")\n    @pytest.mark.multiple\n    # @pytest.mark.usefixtures(\"\")#执行用例前可以进行前置操作(数据库操作,尽量不使用)\n    def test_raysync_sharelink_03(self, testcase_data):\n        stime = testcase_data[\"stime\"]\n        etime = testcase_data[\"etime\"]\n        useCount = testcase_data[\"useCount\"]\n        overCount = testcase_data[\"overCount\"]\n        totalCount = testcase_data[\"totalCount\"]\n        cancelCount = testcase_data[\"cancelCount\"]\n        except_result = testcase_data[\"except_result\"]\n        except_msg = testcase_data[\"except_msg\"]\n        logger.info(\"*************** 获取token ***************\")\n        token = step_1()\n        logger.info(\"*************** 执行清空邀请上传链接操作 ***************\")\n        step_2(token,stime,etime)\n        logger.info(\"*************** 执行邀请上传链接数据初始化操作 ***************\")\n        step_3()\n        logger.info(\"*************** 开始执行用例 ***************\")\n        result_old_url = getAllShareLink(token,stime,etime)\n        shareLink = []\n        useCountNum = 0\n        overCountNum = 0\n        cancelCountNum = 0\n        for sharelinkinfo in result_old_url.json().get(\"sharelinkinfo\"):\n            if sharelinkinfo[\"shareLinkStatus\"] !=3:\n                shareLink.append(sharelinkinfo[\"shareLink\"])\n                result_disable = disableShareLink(token,shareLink)\n                shareLink.clear()\n                assert 0 == result_disable.json().get(\"result\")\n    \n        result_new_url = getAllShareLink(token,stime,etime)\n        for sharelinkinfo in result_new_url.json().get(\"sharelinkinfo\"):\n            if sharelinkinfo[\"shareLinkStatus\"] == 1:  # 链接有效\n                useCountNum += 1\n            elif sharelinkinfo[\"shareLinkStatus\"] == 2: #链接过期\n                overCountNum += 1\n            else:   #链接取消\n                cancelCountNum += 1\n                url = sharelinkinfo[\"shareLink\"]\n                result_url = checkUrl(url)\n                assert 1037 == result_url.json().get(\"result\")\n                logger.info(\"result_url ==>> 期望结果：{}， 实际结果：【 {} 】\".format(1037, result_url.json().get(\"result\")))\n    \n        assert result_new_url.json().get(\"result\") == except_result\n        assert except_msg in result_new_url.json().get(\"message\")\n>       assert result_new_url.json().get(\"totalCount\") == totalCount\nE       assert 0 == 6\n\ntest_04_raysync_sharelink.py:184: AssertionError"}, "description": "该用例是针对业务场景的测试", "steps": [{"name": "获取token", "status": "passed", "start": 1604369466187, "stop": 1604369466223}, {"name": "执行清空邀请上传链接操作", "status": "passed", "parameters": [{"name": "token", "value": "'6PD2V9Wjp0uvY5eXGHnkX55zjgN0X5oOWeiDuXBK'"}, {"name": "stime", "value": "datetime.datetime(2020, 9, 20, 0, 0)"}, {"name": "etime", "value": "datetime.datetime(2020, 10, 30, 0, 0)"}], "start": 1604369466223, "stop": 1604369466252}, {"name": "执行链接数据初始化操作", "status": "passed", "start": 1604369466252, "stop": 1604369466507}], "attachments": [{"name": "log", "source": "39cd60ea-2ba5-4d28-b063-c41709e9fac6-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "e01c53c5-458d-47ff-b928-f7159a0c4f2d-attachment.txt", "type": "text/plain"}], "start": 1604369466186, "stop": 1604369466566, "uuid": "90aeddcb-9813-4f67-95c1-17503cc6d0e6", "historyId": "0263be82c13d403892e69b83fee290af", "testCaseId": "56a96053250c43b144a5a83a6998589c", "fullName": "testcases.scenario_test.test_04_raysync_sharelink.TestshareLink#test_raysync_sharelink_03", "labels": [{"name": "severity", "value": "critical"}, {"name": "epic", "value": "针对业务场景的测试"}, {"name": "feature", "value": "场景：邀请上传"}, {"name": "story", "value": "用例--查看邀请上传链接列表--预期成功"}, {"name": "tag", "value": "multiple"}, {"name": "parentSuite", "value": "testcases.scenario_test"}, {"name": "suite", "value": "test_04_raysync_sharelink"}, {"name": "subSuite", "value": "TestshareLink"}, {"name": "host", "value": "linsijie"}, {"name": "thread", "value": "157820-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testcases.scenario_test.test_04_raysync_sharelink"}]}